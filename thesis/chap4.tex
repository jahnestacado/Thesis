\chapter{BFA Variations}

\section{Variation 1 - Training with our special ASCII subset}
In this variation we created 10 fingerprints which were trained using the training set, one for each file type. We used only the printable ASCII characters (32 b 126) among with the tab(9), new line (10) and the carriage return(13) characters. The results can be found in table 4.1. This variation of BFA classifies 589,758 fragments as text which corresponds to the 30.4\% of the initial corpus. 501,012 of them are fragments that come from pdf, xls, doc and text files and 88,746 fragments originate from the other 6 file types. This means that in the set that is classified as text we have an 85\% true positive of identifying document-type fragments as text with 15\% false positives. This 85\% of true positives corresponds to the 66.7\% from the total pdf, xls, doc and text files of our corpus.

\input{bfa_results_var1}

\section{Variation 2 - 4-Ratio categories of our special ASCII subset}
During our research we thought that it would be interesting to analyse the distribution of bytes that belong to our special ASCII subset in the fragments of our training set. Depending on the percentage of our special ASCII subset in a fragment, the fragment was assigned to one of 4 ratio categories. 0-25\%, 25-50\%, 50-75\% and 75-100\%. The results of this analysis can be found in table 4.2. As it seems fragments from certain file types are more likely to belong to certain ratio categories. For example almost all text fragments(99.95\%) contain more than 75\% of our special ASCII subset and almost all xls fragments less than 50\%. Undoubtedly this is completely reasonable. Text files are mostly comprised of plain text and Excel sheets, with their cell-like structure, contain less printable characters. And this analogy is more obvious in a 512-byte fragment. That finding can be used as a metric to improve current classification techniques and we are going to elaborate more on this later in this document.
Based on the analysis results  we thought that would be interesting to divide the fragments of our training set in 4 such categories. Then for each category and for each file type we created their respective fingerprints. So we ended up with 40 fingerprints, 4 for every file type. The algorithm checks first the ratio of our special ASCII subset of the input fragment and according to its value it compares the fragment with the fingerprints of the respective category.

%Additionally, due to the fact that in some of this categories the amount of fragments in several file types is almost zero we decided to eliminate this fingerprints.
%which contained more than 75\% of our special ASCII subset for the mp4 and a tiny amount of fragments for zip a

\input{bfa_ratio_analysis}
